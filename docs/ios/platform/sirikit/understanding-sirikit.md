---
title: SiriKit 개념 이해하기
description: 이 문서에서는 SiriKit Xamarin.iOS 앱에서 사용 하는 데 필요한 핵심 개념을 설명 합니다. 의도 설명 하는 예를 들어, 및 인 텐트 UI 확장을 SiriKit 권한 훌륭한 환경 등을 디자인 합니다.
ms.prod: xamarin
ms.assetid: 99EC5C1E-484F-4371-8555-58C9F60DE37F
ms.technology: xamarin-ios
author: lobrien
ms.author: laobri
ms.date: 05/02/2017
ms.openlocfilehash: b2a9e757e8a3407bbb19ae0580e5788eabe84cf0
ms.sourcegitcommit: 4b402d1c508fa84e4fc3171a6e43b811323948fc
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 04/23/2019
ms.locfileid: "61188984"
---
# <a name="understanding-sirikit-concepts"></a>SiriKit 개념 이해하기

_이 문서에서는 Xamarin.iOS 앱에 SiriKit을 사용 해야 하는 주요 개념을 다룹니다._


새 ios 10, SiriKit Xamarin.iOS 앱을 iOS 장치에서 Siri 및 맵 앱을 사용 하 여 사용자가 액세스할 수 있는 서비스를 제공할 수 있습니다. 이 기능은 새를 사용 하 여 하나 이상의 앱 확장에서 제공 됩니다 **의도** 하 고 **인 텐트 UI** 프레임 워크입니다.

SiriKit 앱 확장 및 새로운를 사용 하 여 iOS 장치에서 Siri 및 맵 앱을 사용 하 여 사용자에 게 액세스할 수 있는 서비스를 제공 하는 iOS 앱을 통해 **의도** 하 고 **인 텐트 UI** 프레임 워크입니다.

Siri의 개념을 사용 하 여 작동 **도메인**, 관련된 작업에 대 한 작업 그룹을 알고 있어야 합니다. Siri를 사용 하 여 앱에 있는 각 상호 작용 다음과 같이 해당 알려진된 서비스 도메인 중 하나에 속합니다 해야 합니다.:

- 오디오 또는 비디오 호출 합니다.
- 승객을 예약 합니다.
- 달리기를 관리 합니다.
- 메시징입니다.
- 사진을 검색 합니다.
- 지불을 주고받지 설정 합니다.

SiriKit 보냅니다 확장 사용자 요청 하면 Siri의 관련 앱 확장의 서비스 중 하나에 **의도** 지 원하는 모든 데이터와 함께 사용자의 요청을 설명 하는 개체입니다. 앱 확장 한 다음 적절 한 생성 **응답** 개체를 지정 **의도**, 확장 요청을 처리할 수 있는 방법을 자세히 설명 합니다.

## <a name="the-intents-and-intents-ui-extensions"></a>인 텐트와 인 텐트 UI 확장

Siri 및 맵 앱 모두 두 가지 유형의 앱 확장을 통해 앱의 서비스와 상호 작용 합니다.

- **인 텐트 확장** -제공 Siri 및 맵 앱의 콘텐츠 및 지원 되는 모든 의도 충족 하는 데 필요한 작업을 수행 합니다.
- **인 텐트 UI 확장** -Siri 또는 지도 내에서 앱의 콘텐츠에 대 한 표시 되는 사용자 지정 UI를 제공 합니다.

앱 SiriKit을 지원 하기 위해 인 텐트 확장을 제공 해야 하 고 Siri 및 맵 사용자에 게 제공할 수 있는 정보를 제공 하 고 의도 처리 하기 위한 것입니다.

인 텐트 UI 확장을 만드는 Siri에서 일반적으로 모든 사용자 상호 작용을 처리 하 고 각 지원 되는 도메인에 정보를 제공 하는 것에 대 한 표준, 기본 제공 UI가 되므로 선택 사항입니다. 인 텐트 UI 확장을 제공 하 여 앱을 사용할 수는 **의도 UI** 를 풍부 하 고 사용자 지정 사용자 인터페이스 특징으로 앱의 브랜딩 표시 하기 위해 프레임 워크 및 추가 정보.

## <a name="siri-and-the-maps-app-role"></a>Siri 및 맵 앱 역할

사용자의 음성된 요청은 처리 하 고 의미상 Siri 의도 확장을 처리할 수 있는 실행 가능한 인 텐트에 이러한 요청을 전환 하는 사용 하 여 분석할 언어입니다.

맵은 사용자의 작업에 대 한 응답에서 맵 인터페이스에서 정보를 표시 합니다. 응용 프로그램의 의도 확장 프로그램을 사용 합니다. 근처의 식당을 요청 하거나 가져오는 같은 앱의 식당을 검토 합니다.

Siri 및 맵 모든 사용자의 상호 작용을 관리 하 고 표준 시스템 인터페이스를 사용 하 여 결과 표시 합니다. 앱 확장 역할은 주로 표시 되는 데이터를 제공 합니다. 필요에 따라 앱 인 텐트 UI 확장을 제공 하 고 기본 시스템 인터페이스를 향상 시키기 위해 사용자 지정 UI를 표시할 수 있습니다.

## <a name="interacting-with-siri-via-sirikit"></a>Siri SiriKit 통해 상호 작용

이 섹션에서는 SiriKit Siri를 사용 하 여 앱과 상호 작용할 수를 허용 하는 방법의 개요를 제공 합니다. 이 예제의 경우 가짜 MonkeyChat 앱 사용:

[![](understanding-sirikit-images/monkeychat01.png "MonkeyChat 아이콘")](understanding-sirikit-images/monkeychat01.png#lightbox)

MonkeyChat 사용자 친구의 연락 자체 책을 유지 하 고 각 화면 이름 (예: Bobo 예제)에 연결 된 화면 이름으로 각 friend 텍스트 채팅 보낼 수 있습니다.

여러 가지 방법으로 다른 사람들이 여러 형식으로 동일한 요청을 수행할 수 있으므로 사용자가 앱을 사용 하 여 상호 작용을 시작 될 수 있습니다.

예를 들어, 사용자가 friend Bobo 메시지를 보낼 경우, Siri 사용 하 여 다음 대화를 해야 할 수 있습니다.

_사용자: 안녕하세요, Siri MonkeyChat 메시지를 보냅니다._<br />
_Siri: 부여한?_<br />
_사용자: Bobo._<br />
_Siri: Bobo로 업데이트 한다고 가정 하 시겠습니까?_<br />
_사용자: 자세한 Bananas 보내 주십시오._<br />

다른 사람이 다른 대화와 같은 요청을 해야 합니다.

_사용자: Bobo MonkeyChat에서 메시지를 보냅니다._<br />
_Siri: Bobo로 업데이트 한다고 가정 하 시겠습니까?_<br />
_사용자: 자세한 bananas 보내 주십시오._<br />

하 고 다른 사용자 요청을 더 짧게 만들 수 있습니다.

_사용자: MonkeyChat Bobo 자세한 bananas 보내 주십시오._<br />
_Siri: 확인 메시지를 보내는 Monkeychat에서 Bobo을 자세한 bananas를 보내 주십시오._<br />

또는 다른 언어로 동일한 요청을 수행 합니다.

_사용자: MonkeyChat Bobo s'il vous plaît envoyer plus de bananes 합니다._<br />
_Siri: Oui, envoi 메시지 s'il vous plaît envoyer + de bananes 회사 Bobo 도메인 이름 얻기 Monkeychat 합니다._<br />

아직 다른 사용자가 대화의 매우 자세한 정보를 수 있습니다.

_사용자: 안녕하세요, Siri 하세요 부탁 서 수 MonkeyChat 응용 프로그램에서 메시지를 사용 하 여 문자 메시지 보내기 시작 자세한 bananas를 보내 주세요._<br />
_Siri: 부여한?_<br />
_사용자: 내 최상의 pal Bobo 합니다._<br />

또한는 Siri 요청 하는 방법에 따라 일부 요청에 응답 하는 여러 가지가 있습니다.

- **홈 단추를 눌러** -Siri 제한 구두 피드백을 사용 하 여 더 많은 visual 응답이 제공 됩니다.
- **"Hey Siri" 하 여** -Siri 보다 구두 되며 더 적은 visual 응답을 제공 합니다.

Siri는 사용자의 접근성 요구 사항을 충족 하 고는 상호 작용 하 고 이러한 요구 사항에 따라 응답도 조정 됩니다.

요청을 수 있는 방법, Siri 요청에 응답 하는 방법에 관계 없이 Siri 사용자와 대화를 처리 하 고 (해당 확장 프로그램)를 통해 앱 기능을 제공 합니다.

Siri의 요청을 하면 이들은 Siri 이어지는 단계:

[![](understanding-sirikit-images/monkeychat02.png "Siri가 따르는 단계")](understanding-sirikit-images/monkeychat02.png#lightbox)

1. Siri 사용자의 오디오를 사용 하는 먼저 **음성** 텍스트로 변환 합니다.
2. 텍스트를 다음으로 변환 됩니다는 **의도**, 표현을 사용자의 요청을 구성 합니다.
3. 의도 따라 Siri 걸립니다 **동작** 사용자 요청을 수행 하 합니다.
4. Siri가 마지막으로 표시 됩니다 **응답** (visual 및 구두) 수행 하는 동작에 따라 사용자에 게 합니다.

세 가지 주요 앱 Siri 사용 하 여 사용자의 대화의 일부를 사용할 수 있는:

[![](understanding-sirikit-images/monkeychat03.png "앱 Siri 사용 하 여 사용자가 대화에 포함 될 수 있는 세 가지 방법으로")](understanding-sirikit-images/monkeychat03.png#lightbox)

1. **어휘** -어떻게 앱 지시 Siri 상호작용 하려면 알아야 단어입니다.
2. **앱 논리** -작업 및 의도 지정 된 응답 앱 소요 됩니다을 기반으로 합니다.
3. **사용자 인터페이스** -앱에서 해당 응답을 제공할 수 있는 선택적 사용자 지정 사용자 인터페이스입니다.

### <a name="example"></a>예제

다음 대화 MonkeyChat 앱 상호 작용 하는 방법을 검사 위의 정보를 지정 합니다.

_사용자: 안녕하세요, Siri Bobo MonkeyChat에서 메시지를 보냅니다._<br />
_Siri: Bobo로 업데이트 한다고 가정 하 시겠습니까?_<br />
_사용자: 자세한 bananas 보내 주십시오._<br />

Siri 사용자의 음성을 인식 하는 데 앱 대화에 사용 하는 첫 번째 역할은:

[![](understanding-sirikit-images/monkeychat04.png "Siri 사용자 음성을 인식 지원")](understanding-sirikit-images/monkeychat04.png#lightbox)

Siri가 해당 데이터베이스의 이름을 "Bobo" 없지만 앱 않으며 해당 어휘를 통해 Siri를 사용 하 여이 정보를 공유 했습니다. Siri Bobo는 받는 사람으로 Siri를 지정 했으므로 인식 앱에도 도움이 됩니다는 *연락처*합니다.

Siri 이상이 되는 메시지 받는 사람에만 보다 보내므로 메시지 콘텐츠를 요구 하는 경우를 확인 하려면 앱 확장을 사용 하 여 신속 하 게 확인 하는 데 필요한 것을 알고 있습니다. MonkeyChat 수행 되므로 질문을 사용 하 여 사용자에 게 Siri 응답할 수 있습니다. *"원하는 작업 Bobo에 게"?*

위의 예제에서는 사용자가 응답을 *"보내주세요 자세한 bananas"*, Siri를 구조적으로 번들은입니다 **의도**:

[![](understanding-sirikit-images/monkeychat05.png "Siri가 구조적된 의도에 사용자의 응답을 번들")](understanding-sirikit-images/monkeychat05.png#lightbox)

구조적된 의도는 다음 정보가 포함 됩니다.

- **도메인:** 메시지
- **의도:** sendMessage
- **받는 사람:** Bobo
- **콘텐츠:** 자세한 bananas를 보내 주세요

집합으로 모든 도메인에 알고 *작업* 0에 많은 매개 변수는 의도에 포함 될 수 있습니다이 앱에 전송 및 수 있는 내에서 수행 도메인 및 작업을 기반으로 합니다.

의도 전송에 대 한 앱 확장 처리. 결과적으로 의도 처리 하는 앱 생성 됩니다는 **IntentResponse** 의도 함께 하며 앱 의도로 수행한 작업을 설명 하는 매개 변수를 포함 합니다.

각 IntentResponse도 포함 됩니다는 **응답 코드** Siri 지시 하는 앱 또는 요청을 완료할 수 있었습니다. 일부 도메인은도 전송할 수 있는 매우 구체적인 오류 응답 코드가 있습니다.

마지막으로,는 IntentResponse 포함 됩니다는 `NSUserActivity` (직접 해제 지원 하기 위해 사용 되는 등). `NSUserActivity` 응답 Siri 환경을 그대로 두고 응용 프로그램에서 완료를 입력 해야 하는 경우 앱을 시작 하 게 됩니다. 

Siri가 자동으로 적절 한 빌드 `NSUserActivity` 사용자 다루지 않은 Siri 환경에서 앱 및 pickup 시작 합니다. 그러나 앱을 제공할 수 있습니다 자체 `NSUserActivity` 을 사용자 지정할 내용은 필요한 경우.

앱 의도 처리 하 고 후에 Siri에 대 한 응답을 반환 합니다 다음 사용자에 게 결과 표시 (구두로 및 시각적으로).

[![](understanding-sirikit-images/monkeychat06.png "구두로 시각적으로 사용자에 게 표시 되는 결과")](understanding-sirikit-images/monkeychat06.png#lightbox)

Siri 각 앱에 사용할 수 있는 도메인에 대 한 몇 가지 기본 제공 응답 사용자 인터페이스에 있습니다. 그러나 MonkeyChat에서는 선택적 의도 UI 확장을 제공 하므로 위의 예제에서 사용자에 게 대화의 결과 표시에 사용 됩니다.

## <a name="the-intent-lifecycle"></a>내재 된 수명 주기

앱 확장을 의도 처리할 때 수행 해야 하는 세 가지 기본 작업 가지가 있습니다.

[![](understanding-sirikit-images/monkeychat07.png "내재 된 수명 주기")](understanding-sirikit-images/monkeychat07.png#lightbox)

1. 앱 해야 **해결** 이벤트에서 모든 매개 변수입니다. 결과적으로, 앱 요청 되는 항목에 대 한 앱 및 사용자 동의 될 때까지 동일한 매개 변수에서 확인 (각 매개 변수에) 마다 한 번씩 여러 번 및 경우에 따라 여러 번을 호출 합니다.
2. 앱 해야 **Confirm** 는 요청된 의도 처리 하 고 예상된 결과 대 한 Siri를 알 수 있습니다.
3. 마지막으로, 앱 해야 **처리** 의도 하 고 요청 된 결과 달성 하는 단계를 수행 합니다.

### <a name="the-resolve-stage"></a>확인 단계

해결 단계는 Siri 사용자 제공한 및 사용자가 실제로 의미 하는 앱에서 의도 처리할 때 발생 하는 값을 이해 하는 데 도움이 됩니다. 

이 단계는 또한 응용 프로그램에서 사용자와 대화 하는 동안 Siri의 동작에 영향을 줄 수 있는 기회를 제공 합니다. 이렇게 하려면 앱을 제공 합니다는 **해상도 응답**합니다. 다양 한 유형의 Siri에서 인식할 수 있는 데이터에 대 한 미리 정의 된 응답의 여러 가지가 있습니다.

가장 일반적인 앱에서 확인 응답 됩니다 **성공**, 알고 있는 정보 부분 (예: 사용자 화면 이름) 매개 변수에서 데이터의 특정 부분을 일치 앱을 의미 합니다.

지정된 된 요청을 인식 하는 정보의 올바른 부분 일치 하는지 확인 하려면 앱에서 필요한 시간이 있을 수 있습니다. 이러한 경우에 전송 됩니다는 **ConfirmationRequired** 와 같은 사용자에 게 예 또는 아니요 질문을 하기에 대 한 응답 *"메시지를 보낼 Bobo에 유용한?"*

앱 사용자에 게 짧은 목록 옵션 중에서 선택 해야 하는 경우도 있을 수 있습니다. 앱에서는 경우에 **명확성** 같은 선택할 사용자에 대해 2 ~ 10 옵션 목록과 함께 응답: 

```csharp
Who do you want to message?

* Bobo the Great
* Bobo Jr.
* Little Bobo
```

Siri 처리 능력이 또는 Siri UI 상호 작용 하 여 선택 하는 사용자 및 결과 앱으로 다시 전송 됩니다.

다른 경우에 없을 매개 변수를 해결 하려면 앱에 대 한 충분 한 정보 또는 일치 하는 항목 (예: 80 이름에 Bobo 사용자)는 명확성을 사용 하 여 확인할 수 있습니다. 이 경우 앱에 게 전송 합니다는 **NeedsMoreDetails** 응답 및 Siri 더 구체적으로 라는 메시지가 나타납니다.

사용자 의도 프로세스에 필요한 값을 제공 하지 않은 경우 보낼 수는 **NeedsValue** 응답 Siri 값에 대 한 사용자에 게 있어야 합니다.

앱 사용자가 특정 매개 변수에 대해 제공 하는 값을 지원 하지 않으면 보낼 수는 **UnsupportedWithReason** 이유의 값은 지원 되지 않은 이유를 제공 하는 응답 합니다. Siri 다음 사용자에 게 완전히 새로운 값을 묻는 이므로 이러한 지정 된 이유 필요 합니다.

마지막으로 사용 하 여는 **NotRequired** 하기 위해 응답 Siri는 앱 지정된 된 매개 변수의 값이 필요 하지 않습니다. 사용자 하나 그래도 제공, Siri에서 단순히 무시 됩니다 됩니다.

### <a name="the-confirm-stage"></a>확인 단계

확인 단계는 두 가지 용도로:

- Siri Siri 보일 사용자 발생할 것을 의도 처리 하는 예상된 결과 알려야 합니다.
- 앱 요청 된 결제 하려면 은행에 충분 해야 하는 등 사용자가 제공 하 여 요청을 완료 해야 합니다. 필요한 상태를 기회 검사를 제공 합니다.

앱을 제공 합니다는 **의도 응답** 확인 단계의 채울 Siri 통신할 수 있도록이 효과적으로 사용자와 많은 정보를 앱에 사용할 수 있습니다.

도메인 및 작업 유형에 따라 Siri 넣으라는 메시지를 확인을 위해 사용자와 같은 지불 보내거나는 승객 예약 하기 전에 합니다.

### <a name="the-handle-stage"></a>처리 단계

처리 단계에는 앱을 위해 요청 된 작업을 수행 하 여 사용자의 요청을 충족 하는 지점 이므로 의도 사용 하는 가장 중요 한 부분입니다.

확인 단계에서 수행한 것 처럼 앱 Siri이 사용자에 게 연결할 수 있도록 최대한의 결과 대 한 많은 정보를 제공 해야 합니다. 이 정보를 시각적으로 표시 수는 경우에 따라 하거나이 다시 사용자에 게에 단순히 말합니다 됩니다 Siri 경우도 합니다. 

앱에는 네트워크 호출 지연 등의 지정된 된 요청을 처리 하는 데 추가 시간이 필요할 수 있습니다 하거나 라이브 사용자 (예: 완료 하 고 주문 납품 또는 사용자의 위치에 자동차를 운전) 요청을 처리 해야 하는 경우에 시간 수 있습니다. Siri 앱 으로부터의 응답을 기다리는 대기 UI는 앱은 요청을 처리 하 라는 사용자에 게 표시 됩니다.

이상적으로 앱 제공 해야 Siri에 대 한 응답 2 ~ 3 초 이내에 가장 합니다. 보내기 위해 필요한 앱 지정된 된 응답 프로세스에 더 오래 걸릴 수 것임을 알고 있는 경우는 **InProgress** Siri 응답 코드입니다. Siri 그러면 사용자 앱 백그라운드에서 요청을 처리 하 고 Siri 환경에서 탈퇴 하는 경우에 계속 됩니다.

## <a name="adding-sirikit-to-the-app"></a>SiriKit 앱 추가

IOS 10에서에서 SiriKit을 사용 하 여 Apple에서는 두 개의 새 확장명 요소를 만들었습니다.

- **인 텐트 확장** -Siri 앱의 콘텐츠를 사용 하 여 제공 하 고 지원 되는 모든 의도 충족 하는 데 필요한 작업을 수행 합니다.
- **인 텐트 UI 확장** -Siri 내부 앱 콘텐츠가 표시 되는 사용자 지정 UI를 제공 합니다. 

형식으로 인식 하는 데 도움이 되는 Siri를 단어 및 구를 제공 하는 API 이기도 합니다.

- **앱 어휘** -단어와 앱의 모든 사용자에 게 공통 된 구입니다.
- **사용자 어휘** -단어 및 구를 지정 된 앱 사용자에 게 고유한 합니다.

## <a name="the-intents-extension"></a>인 텐트 확장

인 텐트 확장은 다음과 같이 앱과 Siri 간의 주요 상호 작용을 처리 하는 일을 담당 합니다.

[![](understanding-sirikit-images/intents01.png "인 텐트 확장")](understanding-sirikit-images/intents01.png#lightbox)

의도 확장이 하나 이상의 의도 지원할 수 있습니다, 그리고 개발자는 앱에서 SiriKit 구현 하고자 하는 방법을 결정 하는 것입니다. 개발자 처리할 필요 없이 각 의도 대 한 별도 의도 확장을 추가할 수도 없습니다.  즉, Apple 개발자 Siri 자세한 메모리 및 시간 처리를 요구 하는 앱에 대해 열린 여러 프로세스 없습니다 있도록 의도 확장명의 수를 제한 하는 요청입니다.

개발자 또한 알아야 의도 확장 Siri 활성 상태인 동안 백그라운드에서 실행 됩니다. 따라서 Siri를 여전히 요청에 대 한 정보를 처리 하는 데 확장과 통신 하는 동안 사용자를 사용 하 여 대화에 적극적으로 전달할 수 있습니다.

## <a name="privacy-and-security-considerations"></a>개인 정보 보호 및 보안 고려 사항

Apple에 유용한 측정값 정보 보안 Siri를 사용 하 여 작업 하는 경우 이며, iOS 장치에 로그인 해야 할 몇 가지 상호 작용은 개인 사용자 확인을 수행 했습니다. 예를 들어, 승객을 요청 하는 경우 또는 지불 합니다.

또한 특정 동작을 앱이 장치에 로그인 하는 사용자에 게 제한 해야 할 수도 있습니다. 이러한 상황에 대 한 앱 요청 수를 **제한 잠겨 있는 동안** 동작 합니다. 설정을 통해 이렇게는 `Info.plist` 파일입니다.

로컬 인증 프레임 워크가 제품은 의도 확장에 대 한 앱 사용자 추가 인증 정보를 요청할 수 있도록 장치는 이미 잠금 해제 하는 경우에입니다.

마지막으로, Apple Pay 이므로 의도 확장에 사용할 수 있는 앱에 Apple Pay를 사용 하 여 트랜잭션을 완료할 수 있습니다 및 기본 제공 Apple Pay 시트 Siri 인터페이스 위에 표시 됩니다.

Apple 또한는 사용자 정보를 타사 앱으로 사용자를 보내는 시기를 알고 있는지 확인 하려고 **해야** 경우 해당 응용 프로그램 (앱의 번들 표시 이름 지정된)의 특정 이름 예를 들어 요청을 수행 합니다.

Apple Siri이 때문에 사용자와 자연스럽 고 유동적인 대화를 수행 하는 설계, 내에서 자연스럽 게 사용자의 요청에서 어디서 나 많은 파트의 음성에 앱의 번들 이름을 사용할 수 있습니다.

사용자가 수행 하는 일반적인 작업 중 하나 방법은 "verbify" 앱의 이름, 즉, 앱 이름을 가져오고 사용 하 여 요청에서 동사로입니다. 예를 들어 *"MonkeyChat Bobo 았는 데 유용한 bananas."*

## <a name="the-intents-ui-extension"></a>인 텐트 UI 확장

인 텐트 UI 확장을 만들어 앱의 UI 및 Siri 환경에 대 한 브랜딩 기회를 제공 하 고 앱에 연결 된 것으로 생각 될 사용자를 확인 합니다. 이 확장을 통해 앱은 브랜드는 물론 visual 및 기타 기록 정보를 가져올 수 있습니다.

[![](understanding-sirikit-images/intents02.png "인 텐트 UI 확장 출력 예제")](understanding-sirikit-images/intents02.png#lightbox)

인 텐트 UI 확장은 항상 반환을 `UIViewController` 앱 내의 초기 응답을 넘어서는 보여 주는 자세한 정보와 같은 뷰 컨트롤러 배치할 아무 것도 추가할 수 있습니다. 인 텐트 UI는 얼마나 더 이상 해당 위치에 도달 하는 자동차를 공유 하는 승객 걸립니다 같은 장기 실행 이벤트의 상태를 사용 하 여 사용자를 업데이트할 수도 있습니다.

인 텐트 UI 확장은 항상 UI의 맨 위에 있는 이름 및 앱 아이콘 같은 다른 Siri 내용과 함께 표시 되거나, 의도에 따라, 아래쪽 (예: 송신 또는 취소) 단추를 표시 될 수 있습니다.

앱 정보 Siri 메시징 등 기본적으로 사용자에 게 표시 하거나 앱을 앱에 맞는 하나를 사용 하 여 기본 환경을 바꿀 수 있습니다 매핑됩니다를 대체할 수 있는 몇 가지 인스턴스가 있습니다.

> [!IMPORTANT]
> 와 같은 대화형 요소를 추가할 수 있지만 `UIButtons` 나 `UITextFields` 의도 UI 확장을 `UIViewController`, 이러한 엄격 하 게 사용할 수 없는 의도 UI에서 비 대화형으로 및 사용자 상호 작용 하는 일을 할 수 없습니다.

Siri 의도 각 형식에 대 한 UI의 기본 집합을 포함 하므로 의도 UI 확장을 제공 하는 앱에 대 한 완전히 선택 사항입니다. 또한 인 텐트 UI 인터페이스는만 사용할 수 있는 특정 Apple 것으로 간주 되는 의도 사용자에 게 유용할 것입니다.

## <a name="adding-sirikit-vocabulary"></a>SiriKit 어휘를 추가합니다.

SiriKit 구현의 마지막 조각은 필요한 어휘를 제공 하 여 앱 내에 있다고 합니다. 많은 앱에 사용자 및 사용자 앱에 대 한 정보를 제공 하는 고유한 방법으로 정보를 설명 하는 고유한 방법을 있습니다.

이 인해 Siri 단어 및 구를 앱에 고유한 이해 하기 위해 앱의 도움이 필요 합니다. 다음이 구 중 일부가 될 앱의 모든 사용자가 익숙하고 하 게 이해할 수 있도록 합니다. 아직 다른 앱의 지정된 된 사용자에 설치 됩니다.

### <a name="app-specific-vocabulary"></a>앱 특정 어휘

앱 특정 어휘 모든 차량 형식 또는 운동 이름과 같은 앱의 사용자에 특정 단어 및 구를 알 수를 정의 합니다. 에 정의 된 응용 프로그램의 일부 이기 때문에 `AppIntentVocabulary.plist` 주 앱 번들의 일부로 파일입니다. 또한 이러한 단어와 구 지역화 해야 합니다.

어휘를 위한 여러 가지 `AppIntentVocabulary.plist` 파일:

- **예제 앱에서는** -이 앱의 사용자 수 있도록 하는 요청에 대 한 일반적인 사용 사례 집합을 제공 합니다. 예를 들어: *"만납니다 MonkeyFit를 사용 하 여 시작 합니다."*
- **매개 변수** -이 앱에 특정 비표준 매개 변수 형식의 집합을 제공 합니다. 예를 들어, 운동 MonkeyFit 앱의 이름 다음으로 구성 됩니다.
    - **구** -앱을 앱에 대 한 고유한 용어를 정의할 수 있습니다. 예를 들어: MonkeyFit 앱에 대 한 "Bananarific" 운동 형식입니다. 
    - **발음** -Siri를 특정된 구문에 대 한 간단한 발음으로 발음 힌트를 제공 합니다. 예를 들어, "ba nana ri fic"입니다.
    - **예제** -앱에서 특정된 구를 사용의 예를 제공 합니다. 예를 들어 *"시작을 Bananarific에서 MonkeyFit"* 합니다.

자세한 내용은 Apple의를 참조 하세요 [앱 어휘 파일 형식 참조](https://developer.apple.com/library/prerelease/content/documentation/Intents/Conceptual/SiriIntegrationGuide/CustomVocabularyKeys.html#//apple_ref/doc/uid/TP40016875-CH10-SW1)합니다.

### <a name="user-specific-vocabulary"></a>사용자 특정 어휘

사용자 특정 어휘는 앱의 개별 사용자에 게 고유한는 단어 또는 구를 제공 하려고 합니다. 이러한 기본 앱 (앱 확장명 제외)에서 런타임에으로 제공 목록의 시작 부분에 가장 중요 한 용어를 사용 하 여 사용자에 대 한 가장 중요 한 사용 우선 순위 정렬 조건의 정렬된 된 집합입니다.

위에서 설명한 MonkeyChat 앱의 예제를 살펴보세요. MonkeyChat은 사용자 특정 어휘를 통해 Siri를 전송 하는 사용자의 연락처의 모든 목록을 유지 합니다. 사용자가 4kb 되어 10 개의 가장 최근 연락처 목록을 유지에 각 사용자에 대 한 즐겨찾기 연락처 집합이 있습니다. 예를 들어 즐겨 찾는 연락처 해야 최근 연락처 뒤에 사용자 특정 어휘의 시작 부분에 다음 사용자의 연락처의 나머지 부분입니다.

다음 유형의 정보를 사용자 특정 어휘에서 지원 됩니다.

- 연락처 이름입니다.
- 운동 이름입니다.
- 사진 앨범 이름입니다.
- 사진 키워드입니다.

앱 iOS 주소록에 의존 하는 경우 앱은 경우 모든 작업을 수행 하도록이 정보를 이미 Siri를 사용할 수 앱만 앱에 연락처의 고유한 자체 데이터베이스 연락처 이름을 제공 해야 합니다.

어휘를 디자인할 때만 사용자 인지 알고 있어야 하 고 관심 있는 필요한 값을 제공 합니다. 전화 번호 또는 전자 메일 주소와 같은 정보를 제공 하지 마세요.

또한 앱 사용자 특정 어휘 변경 될 때 Siri를 신속 하 게 업데이트 해야 합니다. 사용자는 iOS 장치에 추가 된 인스턴트 Siri에서 정보를 요청 하는 데 익숙한 합니다. 예를 들어 사용자가 새 연락처를 앱에서에 추가 하는 경우 해당 정보를 보낼 Siri 사용자 저장 되는 즉시.

무엇 보다도 앱 _해야_ 정보 삭제 Siri 어휘에서 신속 하 게 되므로 이러한 정보를 삭제 하지만 Siri가 여전히 인식 하기 몇 시간 또는 일 이후 사용자를 화나게 될 수 있습니다.

> [!IMPORTANT]
> 앱에서에서 제거 해야 모든 사용자 특정 어휘 Siri 경우 또는 사용자가 앱을 다시 설정 하도록 선택한 경우 해당 로그 아웃 합니다.

## <a name="sirikit-permissions"></a>SiriKit 권한

SiriKit의 마지막 조각은 권한을 중심으로 합니다. IOS (예: 사진, 카메라 또는 연락처)의 다른 기능을 사용 하는 것 처럼 사용자 Siri에 게 앱에 대 한 명시적 권한을 부여 해야 합니다.

앱은 Siri를 제공 하 고 사용자가이 액세스 권한을 부여 해야 이유에 대 한 이유와 함께 정보를 정의 하는 문자열을 제공할 수 있습니다. 

Apple 앱 사용자는 iOS 10으로 업그레이드 한 후 사용자가 앱을 열 Siri 첫 번째 시간 사용에 게에서 권한을 요청 해야 제안 합니다. 이므로 사용자가 Siri 통합에 대해 알고 있고 해당 첫 번째 요청을 할 하기 전에 사전 승인 된 사용량을 수 있습니다.

## <a name="sirikit-and-maps"></a>SiriKit 및 지도

SiriKit iOS의 핵심 이며에서는 iOS 10에 추가 하는 큰 의도 프레임 워크를 활용 합니다. 인 텐트 프레임 워크는 시스템의 다른 부분을 사용 하 여 공통 및 공유 작업 및 의도 공유 하도록 설계 되었습니다.

인 텐트 프레임 워크 Siri 통합 방금 수준을 넘어서는 및 앱의 기본 전화 또는 특정 연락처에 대 한 메시징 앱 될 수 있는 연락처 통합 같은 다른 기능을 제공 합니다. 의도 또한 최상의 VOIP 환경을 제공 하기 위해 CallKit과 긴밀 한 통합을 제공 합니다.

IOS 10에서에서 맵 앱에는 승객 사용자 맵 UI 내에서 직접 승객을 예약할 수 있는 공유와 같은 기능이 추가 되었습니다. SiriKit 승객 공유 (및 기타) 인 텐트 Siri 및 맵 간에 공유할 수 있도록 맵 사용 하 여 사용자가 공용 확장 지점을 제공 합니다. 

이 경우 앱 SiriKit 확장을 채택 하는 것도 받습니다 지도 통합 무료로 것을 의미 합니다. 

## <a name="designing-a-great-siri-experience"></a>뛰어난 Siri 환경을 디자인

Siri에 앱을 통합 하는 경우 유용한 사용자 환경을 디자인 하는 것은 훌륭한 앱 사용자 인터페이스 디자인 다릅니다. 일반적인 경우는 사용자가 앱에서 직접 상호 작용 하는 위치와 달리 있습니다 Siri를 사용 하는 경우 화면 경우가 많은 시각적 인터페이스가 없는 경우 표시 전혀. 예를 들어 사용자 시작 된 시기와 대화 *"Hey Siri"* 합니다.

### <a name="how-siri-helps-the-developer"></a>Siri가 개발자를 사용 하는 방법

앱을 빌드하는 Siri 사용 하 여 앱의 상호 작용을 디자인할 때를 *대화형 인터페이스*, Siri 대신 하 여 앱의 사용자와 있는 대화에서 파생 되는 컨텍스트를 의미 합니다.

시각적 참조는 없는 경우, 사용자 해야 기록해 해당 헤드에 제공 되는 정보를 합니다. 이 인해 Siri의 작업을 수행 하는 데 필요한 사용자가 수행 하려는 완전 최소 정보를 표시 합니다.

대화형 인터페이스는이 대화 하는 동안 사용자 및 Siri에서 질문 및 응답에서 모양입니다. 따라서 것 siri가 질문 하 고이 인터페이스를 디자인할 때 응답 하는 방법에 대해 생각 하는 것이 중요 합니다.

Siri가 질문을 사용 하 여 응답 메시지를 만드는 사용자의 예로 다음 *"전송할 준비가 되셨습니까?"* . 사용자와 같은 다양 한 방법으로 응답할 수 *"Send"* 를 *"취소"* 이라도 완전히 관련이 없는이 질문 또는 합니다. 대화 재생 하는 방법에 관계 없이 Siri 앱에 대 한 처리를 보낼 관련 정보를 사용할 수 있는 합니다.

여러 가지 다른 사용자가 Siri 사용 하 여 대화를 시작할 수 있습니다.

- 장치를 선택 하 여 홈 단추를 누릅니다. 이 상황에서 Siri 자세한 visual 인터페이스 및 구두 적은 응답을 제공 합니다.
- 하면 *"Hey Siri"* 및 무료 실습 대화를 시작 합니다. 이 상황에서 Siri 덜 visual 및 더 구두 됩니다.
- Bluetooth와 같은 내게 필요한 옵션 기능을 사용 하 여 특별 한 요구를 사용 하 여 사용자에 대 한 UI를 사용자 지정할는 여기서 청각 지원을 사용 하도록 설정 합니다.
- 사용자의 관심을 유지 해야 하는 자동차 재생을 사용 하 여 방해를 최소로 유지 하 여에 집중 합니다.

### <a name="how-the-developer-helps-siri"></a>개발자 Siri를 사용 하는 방법

Siri를 사용 하 여 앱을 통합할 때 개발자 종종이 통합을 테스트 하 고 최대한으로 다양 한 방법으로 동일한 정보 또는 작업 부분에 대 한 질문을 하 여 여러 다른 요청을 하는 것을 확인 해야 합니다.

두 사람 모두 인지, 때문에는 개발자 가져옵니다 만큼 다양 한 베타 테스터를 세부적으로 조정 하는 데 최대한 Siri 통합 중요 합니다. 사용자 정보를 요청할 수 있습니다 또는 요청을 수행 방식에서 개발자 하지 않습니다 하지만의 가장 광범위 한 사용자 그룹 Siri를 사용 하 여 해당 앱을 사용 하 여 멋진 경험을 갖도록 도움이이 미세 조정 합니다.

다양 한 상황 및 환경에서 테스트 합니다. 이러한 대화 유체 유지 하 고 자연 스러운 방법을 Siri 사용 하 여 대화를 시작 합니다. 여기서 사용자는 것이 더 수 사용 하 여 위치 앱 같은 꽉된 체육관에서에서 테스트 합니다.

앱 Siri 사용자에 게 요청 및 결과 올바르게 나타내지 해야 한다는 정보를 모두 제공 되 고 있는지 확인 합니다. 무료 실습 상황에서 Siri를 사용 하는 경우 특히 그렇습니다.

### <a name="siri-design-guidelines"></a>Siri 디자인 지침

Siri는 대화를 나누고 사용자를 대신 하 여 앱을 항상 기억 합니다. 개발자로 유연 하 고 최대한 자연 스러운이 대화에 유지 되는 알 수 없는를 하려고 합니다.

모든 중요 한 대화와 마찬가지로 개발자는 다음을 확인 해야 합니다.

- 대화에 대 한 앱이 준비 됩니다.
- 앱 사용자에 게 정확히 어떤 수신 대기 하도록 하려고 수행 합니다.
- 앱을 적절 한 시간에 적절 한 질문을 요청 합니다.
- 앱이 사용자를 검색 하는 정보를 사용 하 여 요청에 응답 합니다.

#### <a name="preparing-for-the-conversation"></a>대화에 대 한 준비

기억 하기 가장 먼저 개발자와 동일 하 게 되도록 앱의 사용자가 없는 것임 됩니다. 이러한 다른 배경에서 다른 언어를 사용 하거나 앱과 함께 작업 하는 경우 특별 한 요구 사항이 가져올 수 있습니다.

또한 개발자 설계 및 앱을 구축 하므로 갖게 심층적인 지식이 앱 및 해당 내부 작업 및 함수를 일반 사용자는 없습니다. 따라서 개발자는 일반 사용자와 다르게 Siri의 요청을 요청할 수 있습니다.

이 때문에 가능한 많은 다른 사람이 Siri 통해 앱과 상호 작용 하도록 반드시 합니다. 사용자는 개발자가 하다 고 생각 했던 또는 개발자 고려 하는 방법으로 Siri 통해 앱의 요청을 만들 수 있습니다.

#### <a name="ensure-the-app-is-a-good-listener"></a>앱이 좋은 수신기를 확인 합니다.

개발자는 앱 좋은 수신기가 있고 사용자의 기대를 충족 하는 대화의 세부 정보를 가져오는 확인 해야 합니다. 하지만 것도 하는 제공 하지 않았을 앱이 요청한 작업을 수행 하는 데 필요한는 정보를 모두 가능 합니다.

여러 가지 방법으로 앱이이 상황을 처리할 수 없습니다.

- **누락 값에 대 한 좋은 기본값 선택** 예를 들어 앱을 공유 하는 승객 수 기본적으로 사용자의 현재 위치에서 선택 되기를 원했습니다 지정 하지 않은 경우.
- **추측 하기** -앱 사용자에 수집 된 특정 정보를 사용 하 여, 앱 할 수 있습니다 원과 때문에 사용자의 연락처 정보를 모바일 번호를 입력 하는 등의 누락 된 정보에 추측 합니다. 그러나 주의 해야 문제를 방지 하려면 잘못 된, 같은 등 가장 비용이 많이 드는 옵션을 선택 합니다.
- **자세한 정보에 대 한 프롬프트** -앱에서 누락 값에 대 한 사용자에 게 Siri를 가질 수 있습니다. 그러나 여기에서 핵심은 간단 하 고 지점으로 대화를 유지 합니다. 사용자는 해당 요청을 달성 하기 위해 몇 가지 질문에 대답 해야 하는 경우 당황 스 러 신속 하 게 될 수도 있습니다.
- **믿음과 정상적으로 처리할** -사용자는 앱에서 예상 되지 않은 또는 지정 된 컨텍스트에서 처리할 수 없는 값을 제공할 수 있습니다. 앱 관련이 이런 방식으로 명확 하 고 수정 하기 쉬울 수 있도록 하는 사용자에 게 있는지 확인 합니다.

앱에는 단일 값으로 표시 되 면이 처리 하는 기본 방법은 Siri 확인에 대 한 사용자에 게 요청을 할 경우 예를 들어 *"했습니까 Bobo 유용한?"* , 하는 간단한 예 또는 아니요 응답 회신할 수입니다.

몇 가지 가능한 선택 항목을 단일 값에 대 한 올바른 될 수 있는 상황의 경우 명확성 기본 처리 방법입니다. 이 이런 Siri에서 선택할 수는 최대 10 개의 가능한 옵션을 사용 하 여 사용자를 프롬프트 수 있습니다. 예를 들어:

```csharp
Who do you want to send the message to?

* Bobo the Great!
* Bobo Jr.
* Little Bobo
```

질문에서 계속 하는 경우 지정된 된 값에 대 한 완전히 새로운, 보다 구체적인 대답을 제공 하 라는 메시지가 Siri 경우

#### <a name="request-final-confirmation"></a>최종 확인을 요청

앱 사용자의 요청을 수행 하는 작업을 실제로 수행, 전에 Siri 되도록 모든 곳에서 앱 확장을 사용 하 여 확인 합니다. 예를 들어, 사용자에 게 충분 한 비용 지불 요청 하려면 해당 계정에서?

또한 앱은 제공 가능한 정보를 모두 Siri를 사용자에 게 표시 하 고 수행할 작업의 기대를 충족 하는지 확인할 수 있도록 확인 해야 합니다.

요청 및 앱 사용자가 확인 되 면 해당 앱 요구 사항 다시 확인 하십시오 것에 결과 모두 다시 Siri 사용자에 게 연결 될 수 있습니다이 있도록 하려면 수행 했습니다.

#### <a name="responding-to-the-request"></a>요청에 응답

Siri가 각 도메인 및 알고 있는 작업에 대 한 몇 가지 기본 제공 사용자 인터페이스에 있습니다. 그러나 적절 한 경우 앱을 앱의 브랜딩 및 UI 또는 요청에 보다 자세한 정보를 제공 하 여 사용자 환경 향상에 대 한 사용자 지정 의도 UI 확장을 제공할 수 있습니다.

즉, 지지대 Siri에 대 한 사용자 지정 인터페이스를 디자인할 때 사용 해야 합니다. 일반적으로 사용자는 특정 작업을 최대한 신속 하 게 수행 하려는 하 고 불필요 한 정보를 사용 하 여 오버 로드 될 하기를 원하지 않습니다.

사용자 지정 UI를 찾아 모든 다른 iOS 장치 및 사용자 있을 수 있습니다 또는 수 장치를 사용 하는 방향에 올바르게 반응 하도록 주의 기울여도 해야 합니다.

해당 하는 경우 기본 Siri UI에에서 이미 있는 모든 중복 정보를 숨기려면 SiriKit API를 사용 합니다. 아직는 앱은 여전히 정보를 제공 Siri를 나타낼 수 있는 해당 구두로 무료 실습 상황에서 있도록 확인 합니다.

Siri 사용자가 요청한 사진 표시와 같은 사용자의 요청을 수행 하는 앱이 시작 됩니다 여기서 경우가 있을 수 있습니다. 이러한 상황에서는 없는 사용자에 게 불편 합니다. 중간 단계 나 필요한 사용자가 개입할 필요 없이 필요한 정보를 표시 합니다. 정보를 표시 하지 않습니다 또는 예상 하지 사용자 작업을 수행 합니다.

### <a name="polishing-the-design"></a>디자인 개선

Apple 폴란드어 대화형 인터페이스의 디자인을 제안 하는 여러 단계가 있습니다. 먼저 명확 하 고 간결한 어휘 및 사용 사례 예제 Siri 제공 하는 것입니다.

Siri 및 요청을 사용 하 여 대화를 시작 하 여 사용자 앱에서 검색 하는 방법 중 하나는 *"어떻게 해야 할까요?"* Siri 개발자 앱 등을 수행할 수 있습니다 및 예제 hero 사용 사례를 통해 제공 하는 몇 가지 표시 됩니다 해당 `plist` 파일입니다.

좋은 예제 사용 사례를 작성 하는 방법.

- 예제 앱 이름을 포함 함을 확인 합니다.
- 단기 및 지점에 예제를 유지 합니다.
- 각 앱을 지 원하는 의도 대 한 여러 예제를 제공 합니다.
- 의도 및 앱에 대 한 가장 일반적인 사용 사례에 따라 내에서 예제 우선 순위를 지정 합니다.
- 앱 지역화 된 예제를 제공 하는지 확인 합니다.
- 각 예제 앱 내에서 예상 대로 작동을 지정 하는지 확인 합니다.
- 예제에서는 같은 텍스트를 포함 하지 있도록 Siri를 주소 지정을 피합니다 *"Hey Siri..."*
- 와 같은 모든 불필요 한 pleasantries 방지 *"하세요"* 하거나 *"thank you."* 합니다.

탐색 및 앱 Siri 사용자를 대신 하는 대화를 모양을 지정할 수 있는 방법에 실험에 적절 한 시간을 수행 합니다. 프로세스 전체에서 일반적인 사용자의 상호 작용으로 말하고 있는지 확인 하 고 앱의 예상 시간이 지남에 따라 변경 될 수 있습니다.

항상 다양 한 상황에서 앱 및 Siri 사용 하 여 대화를 호출 하는 다른 방법의 모든 테스트 해야 합니다. 테스트 실제 위치에 사용자의 수 수를 사용 하 여 office 및 지원 센터에서 앱을 합니다.

대화 Siri 사용 하 여 앱) (대신 유체, 자연와 "좋아요" 수 있는 위해 노력 합니다. 

## <a name="summary"></a>요약

이 문서에서는 SiriKit을 사용 하는 데 필요한 및 Xamarin.iOS 앱이 iOS 장치에서 Siri 및 맵 앱을 사용 하 여 사용자에 게 액세스할 수 있는 서비스를 제공 하는 상호 작용 하 여 표시 된 주요 개념 설명 했습니다.




## <a name="related-links"></a>관련 링크

- [ElizaChat 샘플](https://developer.xamarin.com/samples/monotouch/ios10/ElizaChat/)
- [SiriKit 프로그래밍 가이드](https://developer.apple.com/library/prerelease/content/documentation/Intents/Conceptual/SiriIntegrationGuide/index.html)
- [인 텐트 프레임 워크 참조](https://developer.apple.com/reference/intents)
- [인 텐트 UI 프레임 워크 참조](https://developer.apple.com/reference/intentsui)
